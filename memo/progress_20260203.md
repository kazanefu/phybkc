# 進捗報告 (2026-02-03)

本日実施した作業内容をまとめました。

## 実施済み
1. **設計の具体化**
   - `design.md` を詳細化し、物理キーの識別方法 (`ScanCode`)、設定ファイルの形式 (TOML/JSON)、スクリプトエンジンの構文、例外処理の方針を決定しました。
2. **プロジェクトの基盤構築 (Scaffolding)**
   - `Cargo.toml` を更新し、`serde`, `toml`, `windows-sys` などの必要な依存関係を追加しました。
3. **プロファイル・設定構造の定義**
   - `crates/profile` にて、設計に基づいた `Config` および `Profile` 構造体を実装しました。
4. **低レベルキーフックの実装 (Daemon)**
   - `crates/daemon` にて、Windows の `SetWindowsHookEx` を用いたキー入力監視プログラムを作成しました。
   - 現在、キーの押し下げ/離上を検知し、その `ScanCode` をコンソールに出力できる状態です。

## 次回の予定
- **プロファイル設定の読み込み実装**
  - TOML/JSON ファイルから設定を読み込み、構造体にデシリアライズする処理の追加。
- **スクリプトエンジンの基本実装**
  - `.phybkc` ファイルのパースと、指定されたキーが押された際のアクション (`Run`, `Execute`) のトリガー。

## 動作確認方法
`cargo run -p daemon` を実行することで、常駐プログラムが起動し、キー入力がコンソールにログ出力されることを確認できます。
